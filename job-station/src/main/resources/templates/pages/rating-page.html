<th:block th:insert="~{/fragments/head}"></th:block>
<th:block th:insert="~{/fragments/header}"></th:block>

<main class="container">
    <div class="m-0 d-flex flex-column gap-2">
        <h1>Рейтинг</h1>

        <div>
            <h5>Рейтинг самых популярных компаний</h5>
            <table class="table" th:if="${#lists.size(model.companies) > 0}">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Название компании</th>
                        <th scope="col">Количество откликов</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="row, index : ${model.companies}">
                        <th scope="row" th:text="${index.count}"></th>
                        <td>
                            <a
                                th:href="@{/companies/{id}(id=${row.id})}"
                                th:text="${row.name}"
                            ></a>
                        </td>
                        <td th:text="${row.amount}"></td>
                    </tr>
                </tbody>
            </table>
            <div
                class="alert alert-light"
                th:if="${#lists.size(model.companies) == 0}"
            >
                Рейтинг компаний пока не сформировался
            </div>
        </div>

        <div class="mt-3">
            <h5>Рейтинг самых востребованных навыков</h5>
            <table class="table" th:if="${#lists.size(model.skills) > 0}">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Навык</th>
                        <th scope="col">Количество появлений</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="row, index : ${model.skills}">
                        <th scope="row" th:text="${index.count}"></th>
                        <td th:text="${row.name}"></td>
                        <td th:text="${row.amount}"></td>
                    </tr>
                </tbody>
            </table>
            <div
                class="alert alert-light"
                th:if="${#lists.size(model.skills) == 0}"
            >
                Рейтинг навыков пока не сформировался
            </div>
        </div>
    </div>
</main>

<th:block th:insert="~{/fragments/bottom}"></th:block>
